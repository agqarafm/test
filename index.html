<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Smart Qalıq</title>
  <style>
    :root{
      --bg-from:#eff6ff;
      --bg-to:#f5f3ff;
      --blue-600:#2563eb;
      --purple-600:#7c3aed;
      --green-500:#22c55e;
      --red-600:#dc2626;
      --card-bg:#fff;
      --shadow:0 10px 25px rgba(0,0,0,.08);
      --shadow-lg:0 14px 30px rgba(0,0,0,.12);
      --radius:1rem;
    }
    body{margin:0; font-family:ui-sans-serif,system-ui; background:linear-gradient(90deg,var(--bg-from),var(--bg-to));}
    .menu{display:flex; justify-content:center; gap:16px; background:#fff; padding:12px; box-shadow:var(--shadow); position:sticky; top:0; z-index:50;}
    .menu button{background:none; border:none; font-weight:600; cursor:pointer; padding:8px 16px; border-radius:8px; transition:.2s;}
    .menu button.active, .menu button:hover{background:var(--blue-600); color:#fff;}
    .section{display:none; padding:24px; animation:fadeIn .5s ease;}
    .section.active{display:block;}
    .card{background:var(--card-bg); border-radius:var(--radius); padding:24px; box-shadow:var(--shadow); margin-bottom:20px; transition:.3s;}
    .card:hover{box-shadow:var(--shadow-lg); transform:translateY(-3px);} 
    .btn{display:inline-flex; align-items:center; justify-content:center; padding:10px 14px; font-weight:600; color:#fff; border:none; border-radius:12px; cursor:pointer; margin-top:8px; transition:.2s;}
    .btn-blue{background:var(--blue-600);} .btn-green{background:var(--green-500);} .btn-purple{background:var(--purple-600);} .btn-red{background:var(--red-600);}
    .sum{margin-top:12px; font-weight:700;}

    /* Inputs */
    input[type=number]{
      width:100%;
      padding:10px;
      margin:6px 0 12px;
      border:2px solid #e5e7eb;
      border-radius:12px;
      outline:none;
      transition:.35s;
      font-size:1rem;
      background:linear-gradient(135deg,#fdfdfd,#f9fafb);
      box-shadow:inset 0 2px 6px rgba(0,0,0,.05);
    }
    input[type=number]:focus{
      border-color:var(--blue-600);
      background:linear-gradient(135deg,#e0f2fe,#fff);
      box-shadow:0 0 15px rgba(37,99,235,.35);
      transform:scale(1.03);
    }
    input[type=number]:hover{
      border-color:#9ca3af;
      background:linear-gradient(135deg,#f3f4f6,#fff);
    }

    /* Popup */
    .popup-overlay{position:fixed; inset:0; background:rgba(0,0,0,.45); display:flex; align-items:center; justify-content:center; opacity:0; pointer-events:none; transition:.3s; backdrop-filter:blur(3px);}
    .popup-overlay.active{opacity:1; pointer-events:auto;}
    .popup{background:#fff; padding:24px; border-radius:16px; box-shadow:var(--shadow-lg); transform:scale(.85); transition:.3s; max-width:300px; text-align:center;}
    .popup-overlay.active .popup{transform:scale(1);}

    /* Calendar */
    .calendar{max-width:420px; margin:auto; background:#fff; padding:16px; border-radius:16px; box-shadow:var(--shadow);}
    .calendar table{width:100%; border-collapse:collapse;}
    .calendar th,.calendar td{width:14.28%; padding:10px; text-align:center; border-radius:8px; cursor:pointer; position:relative; overflow:hidden;}
    .calendar td:hover{background:#e0f2fe;}
    .today{background:linear-gradient(135deg,#6366f1,#9333ea); color:#fff; font-weight:700; box-shadow:0 0 8px rgba(147,51,234,.5);}
    .ripple{position:absolute; border-radius:50%; transform:translate(-50%,-50%); background:rgba(99,102,241,.25); animation:ripple .6s ease-out; pointer-events:none;}

    /* Notes */
    .notes{max-width:420px; margin:auto; background:#fff; padding:16px; border-radius:16px; box-shadow:var(--shadow);}
    .notes textarea{width:100%; height:100px; border-radius:12px; padding:10px; border:1px solid #ddd;}
    .note-actions{display:flex; gap:8px; margin-top:8px;}

    /* Notes list */
    .notes-list{max-width:420px; margin:auto; background:#fff; padding:16px; border-radius:16px; box-shadow:var(--shadow);} 
    .notes-list ul{list-style:none; padding:0; margin:0;} 
    .notes-list li{padding:8px 12px; border-bottom:1px solid #eee;} 

    /* Edit popup */
    .edit-popup{position:fixed; inset:0; background:rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center; opacity:0; pointer-events:none; transition:.3s;}
    .edit-popup.active{opacity:1; pointer-events:auto;}
    .edit-box{background:#fff; padding:20px; border-radius:16px; box-shadow:var(--shadow-lg); transform:scale(.7) rotate(-6deg); transition:.3s; max-width:400px; width:90vw;}
    .edit-popup.active .edit-box{transform:scale(1) rotate(0);}

    @keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
    @keyframes ripple{from{width:0;height:0;opacity:.6;}to{width:200px;height:200px;opacity:0;}}
  </style>
</head>
<body>
  <nav class="menu">
    <button data-target="hesab" class="active">Hesab</button>
    <button data-target="qalig">Qalıq</button>
    <button data-target="calendarSec">Təqvim</button>
    <button data-target="noteSec">Qeyd</button>
    <button data-target="notesListSec">Qeydlərə bax</button>
  </nav>

  <section id="hesab" class="section active">
    <div class="card">
      <h2>Adlara görə hesab</h2>
      <label>Arzu</label><input id="arzu" type="number">
      <label>Aide</label><input id="aide" type="number">
      <label>Gulshad</label><input id="gulshad" type="number">
      <button id="sumBtn" class="btn btn-blue">Hesabla</button>
      <button id="clearValues" class="btn btn-red">Sil</button>
      <p id="sumOut" class="sum">Cəm: 0 AZN</p>
    </div>
  </section>

  <section id="qalig" class="section">
    <div class="card">
      <h2>Smart qalığı hesabla</h2>
      <label>Nağd</label><input id="c1" type="number"><input id="c2" type="number">
      <button id="cashBtn" class="btn btn-green">Hesabla</button>
      <button id="clearCash" class="btn btn-red">Sil</button>
      <p id="cashOut" class="sum">Cəm: 0 AZN</p>
      <hr>
      <label>Kart</label><input id="k1" type="number"><input id="k2" type="number">
      <button id="cardBtn" class="btn btn-purple">Hesabla</button>
      <button id="clearCard" class="btn btn-red">Sil</button>
      <p id="cardOut" class="sum">Cəm: 0 AZN</p>
    </div>
  </section>

  <section id="calendarSec" class="section">
    <div class="calendar" id="calendar"></div>
  </section>

  <section id="noteSec" class="section">
    <div class="notes">
      <textarea id="noteBox" placeholder="Qeyd yaz..."></textarea>
      <div class="note-actions">
        <button id="editNote" class="btn btn-blue">Düzəliş et</button>
        <button id="clearNote" class="btn btn-red">Sil</button>
      </div>
    </div>
  </section>

  <section id="notesListSec" class="section">
    <div class="notes-list">
      <h3>Qeydlər siyahısı</h3>
      <ul id="notesUl"></ul>
    </div>
  </section>

  <!-- Popup -->
  <div id="popup" class="popup-overlay">
    <div class="popup">
      <p id="popupMsg">Nəticə</p>
      <button id="closePopup" class="btn btn-blue" style="margin-top:12px">Bağla</button>
    </div>
  </div>

  <!-- Edit popup -->
  <div id="editPopup" class="edit-popup">
    <div class="edit-box">
      <h3>Qeydi dəyiş</h3>
      <textarea id="editArea" style="width:100%;height:100px"></textarea>
      <div style="margin-top:10px;display:flex;gap:8px;justify-content:flex-end">
        <button id="saveEdit" class="btn btn-green">Yadda saxla</button>
        <button id="closeEdit" class="btn btn-purple">Bağla</button>
      </div>
    </div>
  </div>

  <script>
    const els={arzu:arzu,aide:aide,gulshad:gulshad,sumBtn:sumBtn,clearValues:clearValues,sumOut:sumOut,
      c1:c1,c2:c2,cashBtn:cashBtn,clearCash:clearCash,cashOut:cashOut,
      k1:k1,k2:k2,cardBtn:cardBtn,clearCard:clearCard,cardOut:cardOut,
      calendar:calendar,noteBox:noteBox,editNote:editNote,clearNote:clearNote,
      popup:popup,popupMsg:popupMsg,closePopup:closePopup,
      editPopup:editPopup,editArea:editArea,saveEdit:saveEdit,closeEdit:closeEdit,
      notesUl:notesUl};

    function parseN(v){let n=parseFloat(v);return Number.isFinite(n)?n:0;}
    function showPopup(msg){els.popupMsg.textContent=msg; els.popup.classList.add('active');}

    els.sumBtn.onclick=()=>{let t=parseN(els.arzu.value)+parseN(els.aide.value)+parseN(els.gulshad.value);els.sumOut.textContent=`Cəm: ${t} AZN`;showPopup(`Adlara görə cəm: ${t} AZN`);};
    els.cashBtn.onclick=()=>{let t=parseN(els.c1.value)+parseN(els.c2.value);els.cashOut.textContent=`Cəm: ${t} AZN`;showPopup(`Nağd cəm: ${t} AZN`);};
    els.cardBtn.onclick=()=>{let t=parseN(els.k1.value)+parseN(els.k2.value);els.cardOut.textContent=`Cəm: ${t} AZN`;showPopup(`Kart cəm: ${t} AZN`);};

    els.clearValues.onclick=()=>{els.arzu.value=els.aide.value=els.gulshad.value='';els.sumOut.textContent='Cəm: 0 AZN';};
    els.clearCash.onclick=()=>{els.c1.value=els.c2.value='';els.cashOut.textContent='Cəm: 0 AZN';};
    els.clearCard.onclick=()=>{els.k1.value=els.k2.value='';els.cardOut.textContent='Cəm: 0 AZN';};
    els.closePopup.onclick=()=>els.popup.classList.remove('active');

    // menu switch
    document.querySelectorAll('.menu button').forEach(btn=>{
      btn.onclick=()=>{
        document.querySelectorAll('.menu button').forEach(b=>b.classList.remove('active'));
        document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.target).classList.add('active');
      };
    });

    // calendar
    function buildCalendar(){
      const now=new Date();
      const y=now.getFullYear(),m=now.getMonth();
      const daysIn=new Date(y,m+1,0).getDate();
      const firstDay=new Date(y,m,1).getDay();
      const monthNames=['Yanvar','Fevral','Mart','Aprel','May','İyun','İyul','Avqust','Sentyabr','Oktyabr','Noyabr','Dekabr'];
      const dayNames=['B','B.e','Ç.a','Ç','C.a','C','Ş'];
      let html=`<h3>${monthNames[m]} ${y}</h3><table><tr>${dayNames.map(d=>`<th>${d}</th>`).join('')}</tr><tr>`;
      for(let i=0;i<(firstDay||7)-1;i++) html+='<td></td>';
      for(let d=1;d<=daysIn;d++){
        let cls=(d===now.getDate())?'today':'';
        html+=`<td class="${cls}" data-day="${d}">${d}</td>`;
        if((d+firstDay-1)%7===0) html+='</tr><tr>';
      }
      html+='</tr></table>';
      els.calendar.innerHTML=html;
      els.calendar.querySelectorAll('td').forEach(td=>{
        td.onclick=(e)=>{
          if(!td.textContent) return;
          const r=document.createElement('span');r.className='ripple';
          r.style.left=e.offsetX+'px';r.style.top=e.offsetY+'px';
          td.appendChild(r); setTimeout(()=>r.remove(),600);
          td.classList.add('today'); setTimeout(()=>td.classList.remove('today'),700);
        };
      });
    }
    buildCalendar();

    // notes
    els.editNote.onclick=()=>{els.editArea.value=els.noteBox.value;els.editPopup.classList.add('active');};
    els.saveEdit.onclick=()=>{
      els.noteBox.value=els.editArea.value;
      els.editPopup.classList.remove('active');
      showPopup('Qeyd yeniləndi ✔');
      if(els.noteBox.value.trim()!==''){
        const li=document.createElement('li');
        li.textContent=els.noteBox.value;
        els.notesUl.appendChild(li);
      }
    };
    els.closeEdit.onclick=()=>els.editPopup.classList.remove('active');
    els.clearNote.onclick=()=>{els.noteBox.value='';};
  </script>
</body>
</html>
